<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Castie! Notes</title>
  <meta name="description" content="  最近在学习前端方面的知识, 粗浅的将webpack和gulp的文档翻阅了一遍, 虽然之前有使用过Vue的经验, 但是就社区来说, 现在的主流还是React, 所以我也不免俗的进行学习, 为以后React Native的hybird架构的建设打好基础.">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Web 将项目快速迁移至React">
  <meta name="twitter:description" content="  最近在学习前端方面的知识, 粗浅的将webpack和gulp的文档翻阅了一遍, 虽然之前有使用过Vue的经验, 但是就社区来说, 现在的主流还是React, 所以我也不免俗的进行学习, 为以后React Native的hybird架构的建设打好基础.">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Web 将项目快速迁移至React">
  <meta property="og:description" content="  最近在学习前端方面的知识, 粗浅的将webpack和gulp的文档翻阅了一遍, 虽然之前有使用过Vue的经验, 但是就社区来说, 现在的主流还是React, 所以我也不免俗的进行学习, 为以后React Native的hybird架构的建设打好基础.">
  
  <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2017/09/Web-%E5%B0%86%E9%A1%B9%E7%9B%AE%E5%BF%AB%E9%80%9F%E8%BF%81%E7%A7%BB%E8%87%B3React/">
  <link rel="alternate" type="application/rss+xml" title="Castie!" href="http://localhost:4000/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 Castie! 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="Castie! logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for Castie!" class="blog-button">Castie!</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">正态分布, 优劣伴生</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">北冥有鱼，其名为鲲（kūn）。鲲之大，不知其几千里也；化而为鸟，其名为鹏。鹏之背，不知其几千里也；怒而飞，其翼若垂天之云。是鸟也，海运则将徙于南冥。南冥者，天池也。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">北海若曰：“井鼃不可以语于海者，拘于虚也；夏虫不可以语于冰者，笃于时也；曲士不可以语于道者，束于教也。今尔出于崖涘，观于大海，乃知尔丑，尔将可与语大理矣。</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
                
                  <li class="navigation__item"><a href="https://coderzsq.github.io/coderZsq.webpack.js/" target="_blank" title="我的简历">简历</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
    <!-- jianshu-->
    <li class="navigation__item">
      <a href="http://www.jianshu.com/u/9d7fad1a4693" title="@coderZsq 的简书" target="_blank">
        <i class='social fa fa-book'></i>
        <span class="label">jianshu</span>
      </a>
    </li>
    

    
    <!-- juejin-->
    <li class="navigation__item">
      <a href="https://juejin.im/user/57e735dfa22b9d00614eecb8" title="@coderZsq 的稀土掘金" target="_blank">
        <i class='social fa fa-align-center'></i>
        <span class="label">juejin</span>
      </a>
    </li>
    

  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/coderZsq" title="@coderZsq 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  

  

  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:a13701777868@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-slate"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-09-29 11:38:00 +0800" itemprop="datePublished" class="post-meta__date date">2017-09-29</time> &#8226; <span class="post-meta__tags tags">前端开发</span>
    </div>
    <h1 class="post-title">Web 将项目快速迁移至React</h1>
  </header>

  <section class="post">
    <blockquote>
  <p>最近在学习前端方面的知识, 粗浅的将webpack和gulp的文档翻阅了一遍, 虽然之前有使用过Vue的经验, 但是就社区来说, 现在的主流还是React, 所以我也不免俗的进行学习, 为以后React Native的hybird架构的建设打好基础.</p>
</blockquote>

<p><img src="http://upload-images.jianshu.io/upload_images/1229762-6afd704390c3aedc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<h6 id="参考链接">参考链接:</h6>

<ul>
  <li><a href="http://www.jianshu.com/p/d1497da0f9ab">Web 是时候用前端写个简历了!</a></li>
  <li><a href="http://www.jianshu.com/p/5c4788c0389d">Web 前端项目要从基本布局开始</a></li>
  <li><a href="http://www.jianshu.com/p/b3389f66f539">Web 简历一定要设计的美美的</a></li>
  <li><a href="http://www.jianshu.com/p/85d95723edfb">Web 使用Vue代替陈旧的jQuery</a></li>
  <li><a href="http://www.jianshu.com/p/f1fd09628b43">Web Vue项目速转.htm静态网页</a></li>
</ul>

<p>以下内容在上述文章基础上进行, 请事先查阅.</p>

<p>说到React, 最常听说的就是函数式编程, 和Vue推崇的模板有很大的差异, 这也是我们需要换个视角来研究的东西. 说道学习, 光是理论上的讲解真的不是我的学习方式, 说真的也学不进去, 所以我们还是通过实战来进行学习吧.</p>

<p>我们之前有通过Vue搭建的一个个人简历的页面, 为了学习使用React, 我们就将之前的Vue项目迁移到React上来, 并在迁移的途中看看如何来使用React.</p>

<h4 id="create-react-app">create-react-app</h4>

<p>首先我们需要一个先搭建一个开发环境, 上篇我们通过webpack搭建了一个最基础的开发环境, 但没有优化的webpack, 速度是很不理想的, 所以我们就直接使用facebook官方的脚手架<code class="highlighter-rouge">create-react-app</code> 来进行项目的环境搭建.</p>

<p>首先我们来看下文档 –&gt; <a href="https://github.com/facebookincubator/create-react-app">官方文档</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Quick Overview

npm install -g create-react-app

create-react-app my-app
cd my-app/
npm start
Then open http://localhost:3000/ to see your app.
When you’re ready to deploy to production, create a minified bundle with npm run build.
</code></pre>
</div>
<p>非常简单的终端命令后, 脚手架工具就帮我们搭建好了开发环境.</p>

<h4 id="packagejson">package.json</h4>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-resume"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^15.6.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^15.6.2"</span><span class="w">
    </span><span class="s2">"react-scripts"</span><span class="err">:</span><span class="w"> </span><span class="s2">"1.0.13"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-scripts start"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-scripts build"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-scripts test --env=jsdom"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-scripts eject"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
</div>
<p>但是我们在脚手架生成的项目中看不到webpack的配置…</p>

<h4 id="react">react</h4>

<p>不管了, 我们先进行开发起来, 我们先将Index骨架给搭好吧. 我们先来看看之前的Vue的写法, 并进行可选的复制.</p>

<h5 id="indexvue">Index.vue</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;template&gt;
&lt;div&gt;
  &lt;navigation&gt;&lt;/navigation&gt;
  &lt;div class="odd"&gt;
    &lt;div class="content"&gt;
      &lt;home&gt;&lt;/home&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="even"&gt;
    &lt;div class="content"&gt;
      &lt;projects&gt;&lt;/projects&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="odd"&gt;
    &lt;div class="content"&gt;
      &lt;github&gt;&lt;/github&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="articles"&gt;
    &lt;div class="content"&gt;
      &lt;articles&gt;&lt;/articles&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="odd"&gt;
    &lt;div class="content"&gt;
      &lt;experience&gt;&lt;/experience&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="contact"&gt;
    &lt;div class="content"&gt;
      &lt;contact&gt;&lt;/contact&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import navigation from './navigation'
import home from './home'
import projects from './projects'
import github from './github'
import articles from './articles'
import experience from './experience'
import contact from './contact'
export default {
  data() {
    return {

    }
  },
  components: {
    navigation,
    home,
    projects,
    github,
    articles,
    experience,
    contact
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.even {
  width: 100%;
  height: 600px;
  background-color: #fafafa;
}

.odd {
  width: 100%;
  height: 600px;
  background-color: #fff;
}

.articles {
  width: 100%;
  height: 1130px;
  background-color: #fafafa;
}

.contact {
  width: 100%;
  height: 320px;
  background-color: #fafafa;
}

.content {
  margin: 0 auto;
  width: 1000px;
  height: inherit;
}
&lt;/style&gt;

</code></pre>
</div>

<p>对应Vue, React我们生成Index.js及Index.css</p>

<h5 id="indexcss">Index.css</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>.even {
    width: 100%;
    height: 600px;
    background-color: #fafafa;
}

.odd {
    width: 100%;
    height: 600px;
    background-color: #fff;
}

.articles {
    width: 100%;
    height: 1130px;
    background-color: #fafafa;
}

.contact {
    width: 100%;
    height: 320px;
    background-color: #fafafa;
}

.content {
    margin: 0 auto;
    width: 1000px;
    height: inherit;
}

</code></pre>
</div>

<p>Index.css仅仅是将vue中的css给抽取出来了而已, 我们再来看Index.js.</p>

<h5 id="indexjs">Index.js</h5>
<div class="highlighter-rouge"><pre class="highlight"><code>import React, {Component} from 'react';
import CSSModules from 'react-css-modules';
import styles from './pc_Index.css';
import PCNavigation from './pc_navigation';
import PCHome from './pc_home';
import PCProducts from './pc_projects';
import PCGithub from './pc_github';
import PCArticles from './pc_articles';
import PCExperience from './pc_experience';
import PCContact from './pc_contact';

export default class PCIndex extends Component {

    render() {
        return (
            &lt;div&gt;
                &lt;PCNavigation/&gt;
                &lt;div className={styles.odd}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCHome/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className={styles.even}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCProducts/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className={styles.odd}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCGithub/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className={styles.articles}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCArticles/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className={styles.odd}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCExperience/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className={styles.contact}&gt;
                    &lt;div className={styles.content}&gt;
                        &lt;PCContact/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}

</code></pre>
</div>
<p>Index.js 我们通过模块化注入的方式进行, 但是我们发现这个模块化有问题啊, 还是造成了全局污染, 这时我们想到要去看看webpack的配置了, 可是项目中并没有webpack… 那怎么办… 一度陷入僵局, 我们再到脚手架工具的文档上看看吧…</p>

<h4 id="借助文档">借助文档</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>Limitations

Some features are currently not supported:

Server rendering.
Some experimental syntax extensions (e.g. decorators).
CSS Modules (see #2285).
Importing LESS or Sass directly (but you still can use them).
Hot reloading of components.
Some of them might get added in the future if they are stable, are useful to majority of React apps, don’t conflict with existing tools, and don’t introduce additional configuration.
</code></pre>
</div>

<p>找啊找, 我们居然看到居然不支持<code class="highlighter-rouge">CSS Modules</code>, 尼玛是在逗我? 这个有那么难支持咩…</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Philosophy

One Dependency: There is just one build dependency. It uses Webpack, Babel, ESLint, and other amazing projects, but provides a cohesive curated experience on top of them.

No Configuration Required: You don't need to configure anything. Reasonably good configuration of both development and production builds is handled for you so you can focus on writing code.

No Lock-In: You can “eject” to a custom setup at any time. Run a single command, and all the configuration and build dependencies will be moved directly into your project, so you can pick up right where you left off.
</code></pre>
</div>

<p>然后我们看到了这段, 最后一句, 你可以<code class="highlighter-rouge">eject </code>, 并自定义配置, 但官方不推荐这样做… 你都完不成我想要的功能, 我还管你推不推荐… 幼稚…</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm run eject
</code></pre>
</div>

<p>好了, 我看到了一个config文件夹, 终于我们可以进行webpack的配置了,那我们应该如何配置呢?? 我们去看下<code class="highlighter-rouge">react-css-modules</code>的<a href="https://github.com/gajus/react-css-modules">文档</a>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>webpack css-loader

CSS Modules is a specification that can be implemented in multiple ways. react-css-modules leverages the existing CSS Modules implementation webpack css-loader.

</code></pre>
</div>

<p>需要借助<code class="highlighter-rouge">css-loader</code>, 我们再到css.loader中看看吧.. –&gt; <a href="https://github.com/webpack-contrib/css-loader#css-modules">文档</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>webpack.config.js

{
 test: /\.css$/,
 use: [
   {
     loader: 'css-loader',
     options: {
       modules: true,
       localIdentName: '[path][name]__[local]--[hash:base64:5]'
     }
   }
 ]
}
</code></pre>
</div>
<p>终于找到配置项了, 我们也到我们的webpack进行配置… 配置完成后, 总算模块化的事情算是告一段落了… 前端查文档真心麻烦… 文档都是散的… 坑啊~~</p>

<h4 id="cssmodules">CSSModules</h4>

<p>虽然搞定了css模块化, 但是这样的注入真的是蛋疼啊… 有没有什么更好的方法呢… 我们回到<code class="highlighter-rouge">react-css-modules</code>的文档.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import React from 'react';
import styles from './table.css';

export default class Table extends React.Component {
    render () {
        return &lt;div className={styles.table}&gt;
            &lt;div className={styles.row}&gt;
                &lt;div className={styles.cell}&gt;A0&lt;/div&gt;
                &lt;div className={styles.cell}&gt;B0&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;;
    }
}
</code></pre>
</div>
<p>我们目前使用的是这种方法, 注入的非常蛋疼….</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import React from 'react';
import CSSModules from 'react-css-modules';
import styles from './table.css';

class Table extends React.Component {
    render () {
        return &lt;div styleName='table'&gt;
            &lt;div styleName='row'&gt;
                &lt;div styleName='cell'&gt;A0&lt;/div&gt;
                &lt;div styleName='cell'&gt;B0&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;;
    }
}

export default CSSModules(Table, styles);

</code></pre>
</div>
<p>往下找, 然后我们就找到了这种优雅的方法, 可以直接使用css的字符串引入, 这个达到了我们的要求! 拍手👏.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import React from 'react';
import CSSModules from 'react-css-modules';
import styles from './table.css';

@CSSModules(styles)
export default class extends React.Component {
    render () {
        return &lt;div styleName='table'&gt;
            &lt;div styleName='row'&gt;
                &lt;div styleName='cell'&gt;A0&lt;/div&gt;
                &lt;div styleName='cell'&gt;B0&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;;
    }
}
</code></pre>
</div>

<p>不知疲倦的我又往下翻查, 找到了这个更加优雅的方法, 使用<code class="highlighter-rouge">decorator</code>, 这是ES7的语法, 想要使用我们需要加<code class="highlighter-rouge">babel-plugin-transform-decorators-legacy</code> 这个插件.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm i babel-plugin-transform-decorators-legacy --save
</code></pre>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">test:</span><span class="w"> </span><span class="err">/\.(js|jsx)$/,</span><span class="w">
  </span><span class="err">include:</span><span class="w"> </span><span class="err">paths.appSrc,</span><span class="w">
  </span><span class="err">loader:</span><span class="w"> </span><span class="err">require.resolve('babel-loader'),</span><span class="w">
  </span><span class="err">options:</span><span class="w"> </span><span class="err">{</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">feature</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">`babel-loader`</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">webpack</span><span class="w"> </span><span class="err">(not</span><span class="w"> </span><span class="err">Babel</span><span class="w"> </span><span class="err">itself).</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">It</span><span class="w"> </span><span class="err">enables</span><span class="w"> </span><span class="err">caching</span><span class="w"> </span><span class="err">results</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">./node_modules/.cache/babel-loader/</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">directory</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">faster</span><span class="w"> </span><span class="err">rebuilds.</span><span class="w">
    </span><span class="err">cacheDirectory:</span><span class="w"> </span><span class="err">true,</span><span class="w">
    </span><span class="nt">"plugins"</span><span class="p">:[</span><span class="s2">"transform-decorators-legacy"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="err">},</span><span class="w">
</span></code></pre>
</div>
<p>我们安装完成后到webpack中配置一下, 就可以用啦.</p>

<h5 id="indexjs-1">Index.js</h5>

<div class="highlighter-rouge"><pre class="highlight"><code>import React, {Component} from 'react';
import CSSModules from 'react-css-modules';
import styles from './pc_Index.css';
import PCNavigation from './pc_navigation';
import PCHome from './pc_home';
import PCProducts from './pc_projects';
import PCGithub from './pc_github';
import PCArticles from './pc_articles';
import PCExperience from './pc_experience';
import PCContact from './pc_contact';

@CSSModules(styles)
export default class PCIndex extends Component {

    render() {
        return (
            &lt;div&gt;
                &lt;PCNavigation/&gt;
                &lt;div styleName="odd"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCHome/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div styleName="even"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCProducts/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div styleName="odd"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCGithub/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div styleName="articles"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCArticles/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div styleName="odd"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCExperience/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div styleName="contact"&gt;
                    &lt;div styleName="content"&gt;
                        &lt;PCContact/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}

</code></pre>
</div>

<p>这样我么就非常优雅的完成了这个CSS模块化的问题了, 还是花了些功夫.</p>

<p>但是我们如何进行一个dom绑定多个样式呢??</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@CSSModules(styles, {allowMultiple: true})
</code></pre>
</div>
<p>多加一个参数即可, 虽然文档不是很推荐, 但是用户需求大于天不是吗…</p>

<h4 id="迁移">迁移</h4>

<p>搞定了上面最麻烦的CSS模块化后, 我们的迁移也变得顺风顺水, 基本没有遇到什么问题, 会使用Vue的同学迁移到React上也不是什么难事.</p>

<h5 id="vue">Vue</h5>
<div class="highlighter-rouge"><pre class="highlight"><code>&lt;template&gt;
&lt;div class="column"&gt;
  &lt;div class="column-block"&gt;
    &lt;div class="column-list"&gt;
      &lt;div class="row" v-for="article in articles"&gt;
        &lt;a :href="article.href"&gt;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="column-title"&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {

    }
  },
  props: {
    articles: Array,
    name: String
  }
}
&lt;/script&gt;
</code></pre>
</div>

<h5 id="react-1">React</h5>
<div class="highlighter-rouge"><pre class="highlight"><code>import React, {Component} from 'react';
import CSSModules from 'react-css-modules';
import styles from './pc_column.css';

@CSSModules(styles)
export default class PCColumn extends Component {

    render() {

        const rows = this.props.articles.map((article, index) =&gt; (
            &lt;div styleName="row" key={index}&gt;
                &lt;a href={article.href}&gt;{article.name}&lt;/a&gt;
            &lt;/div&gt;
        ))

        return (
            &lt;div styleName="column"&gt;
                &lt;div styleName="column-block"&gt;
                    &lt;div styleName="column-list"&gt;
                        {rows}
                    &lt;/div&gt;
                    &lt;div styleName="column-title"&gt;
                        {this.props.name}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre>
</div>

<p>特意找了个明显有差异的对比, 我们能够看到Vue的重心在模板的渲染, 使用v-for这种语法糖. 而React是比较适合我们平时的编程习惯的, 也就是代码注入.</p>

<h4 id="展示">展示</h4>

<p><img src="http://upload-images.jianshu.io/upload_images/1229762-bca861b9e236da9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<p>整个迁移的过程比较顺畅, 原因之一也是页面相对简单, 学习到的东西是CSSModules这块的配置问题, 解决了这个问题后, 迁移也就变得非常容易了.</p>

<p>但是作为前端小白来说, 这仅仅是对于前端项目的浅显的学习, 要学习的东西还很多, 继续加油吧.</p>

<h5 id="about">About:</h5>

<p><img src="http://upload-images.jianshu.io/upload_images/1229762-3f8925783027b3fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="点击下方链接跳转!!" /></p>

<p><a href="https://github.com/coderZsq/coderZsq.webpack.js">🌟 项目源码 请点这里🌟 »&gt; 喜欢的朋友请点喜欢 »&gt; 下载源码的同学请送下小星星 »&gt; 有闲钱的壕们可以进行打赏 »&gt; 小弟会尽快推出更好的文章和大家分享 »&gt; 你的激励就是我的动力!! </a></p>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">最近的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2017/09/Web-PC%E9%A1%B9%E7%9B%AE%E5%BF%AB%E9%80%9F%E9%80%82%E9%85%8D%E7%A7%BB%E5%8A%A8%E7%AB%AF/" title="link to Web PC项目快速适配移动端">Web PC项目快速适配移动端</a></h2>
       <p class="excerpt">  昨天我们快速的将Vue的项目快速迁移到了React上来, 经过学习两个不同的框架发现, React更加适合复杂的需求以及更加适合我们这种移动端开发者的思维习惯.参考链接:  Web 是时候用前端写个简历了!  Web 前端项目要从基本布局开始  Web 简历一定要设计的美美的  Web 使用Vue代替陈旧的jQuery  Web Vue项目速转.htm静态网页  Web 将项目快速迁移至React以下内容在上述文章基础上进行, 请事先查阅.在着手移动端之前, 我们先给之前的导航栏点击按...&hellip;</p>
       <div class="post-list__meta"><time datetime="2017-09-30 10:31:00 +0800" class="post-list__meta--date date">2017-09-30</time> &#8226; <span class="post-list__meta--tags tags">前端开发</span><a class="btn-border-small" href=/2017/09/Web-PC%E9%A1%B9%E7%9B%AE%E5%BF%AB%E9%80%9F%E9%80%82%E9%85%8D%E7%A7%BB%E5%8A%A8%E7%AB%AF/>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2017/09/Web-%E4%BD%BF%E7%94%A8webpack%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/" title="link to Web 使用webpack构建前端项目">Web 使用webpack构建前端项目</a></h2>
       <p class="excerpt">  好久没写技术博客了, 原因在于最近在学习前端方面的技术, 熟悉我的同学都知道, 之前我有使用Vue搭建了一个个人简历, 体验了一把最新的前端技术, 但之前我们使用的是vue-cli脚手架工具, 对于如何自己实现前端构建工具, 当下最为流行的就是webpack和gulp了, 之前一篇我们讲了gulp, 这一篇我们来好好讨论webpack.说起webpack, 想必做前端的同学肯定不会陌生, 其实之前我们使用gulp构建的时候, 也使用了webpack的打包技术, 其实gulp和webpa...&hellip;</p>
       <div class="post-list__meta"><time datetime="2017-09-23 15:46:00 +0800" class="post-list__meta--date date">2017-09-23</time> &#8226; <span class="post-list__meta--tags tags">前端开发</span><a class="btn-border-small" href=/2017/09/Web-%E4%BD%BF%E7%94%A8webpack%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2018-04-14 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="https://github.com/coderZsq">@Castie!</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2018</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
