<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Castie! Notes</title>
  <meta name="description" content="  上周的  引起热烈的反响, 小弟真的是受宠若惊, 还有些同学私信求更新的, 我特别推崇这种互帮互助的学习方式, 有利于共同学习, 好了开始今天的话题!">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="iOS 狂霸酷炫拽之Button动效">
  <meta name="twitter:description" content="  上周的  引起热烈的反响, 小弟真的是受宠若惊, 还有些同学私信求更新的, 我特别推崇这种互帮互助的学习方式, 有利于共同学习, 好了开始今天的话题!">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="iOS 狂霸酷炫拽之Button动效">
  <meta property="og:description" content="  上周的  引起热烈的反响, 小弟真的是受宠若惊, 还有些同学私信求更新的, 我特别推崇这种互帮互助的学习方式, 有利于共同学习, 好了开始今天的话题!">
  
  <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2016/07/iOS-%E7%8B%82%E9%9C%B8%E9%85%B7%E7%82%AB%E6%8B%BD%E4%B9%8BButton%E5%8A%A8%E6%95%88/">
  <link rel="alternate" type="application/rss+xml" title="Castie!" href="http://localhost:4000/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 Castie! 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="Castie! logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for Castie!" class="blog-button">Castie!</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">正态分布, 优劣伴生</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">北冥有鱼，其名为鲲（kūn）。鲲之大，不知其几千里也；化而为鸟，其名为鹏。鹏之背，不知其几千里也；怒而飞，其翼若垂天之云。是鸟也，海运则将徙于南冥。南冥者，天池也。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">北海若曰：“井鼃不可以语于海者，拘于虚也；夏虫不可以语于冰者，笃于时也；曲士不可以语于道者，束于教也。今尔出于崖涘，观于大海，乃知尔丑，尔将可与语大理矣。</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
                
                  <li class="navigation__item"><a href="https://coderzsq.github.io/coderZsq.webpack.js/" target="_blank" title="我的简历">简历</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
    <!-- jianshu-->
    <li class="navigation__item">
      <a href="http://www.jianshu.com/u/9d7fad1a4693" title="@coderZsq 的简书" target="_blank">
        <i class='social fa fa-book'></i>
        <span class="label">jianshu</span>
      </a>
    </li>
    

    
    <!-- juejin-->
    <li class="navigation__item">
      <a href="https://juejin.im/user/57e735dfa22b9d00614eecb8" title="@coderZsq 的稀土掘金" target="_blank">
        <i class='social fa fa-align-center'></i>
        <span class="label">juejin</span>
      </a>
    </li>
    

  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/coderZsq" title="@coderZsq 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  

  

  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:a13701777868@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-slate"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-07-02 15:08:00 +0800" itemprop="datePublished" class="post-meta__date date">2016-07-02</time> &#8226; <span class="post-meta__tags tags">移动开发</span>
    </div>
    <h1 class="post-title">iOS 狂霸酷炫拽之Button动效</h1>
  </header>

  <section class="post">
    <blockquote>
  <p>上周的 <渐变导航栏> 引起热烈的反响, 小弟真的是受宠若惊, 还有些同学私信求更新的, 我特别推崇这种互帮互助的学习方式, 有利于共同学习, 好了开始今天的话题!</渐变导航栏></p>
</blockquote>

<h6 id="参考链接">参考链接:</h6>

<ul>
  <li><a href="http://www.jianshu.com/p/a3e1b54c73d6">iOS 做好开工前的准备</a></li>
  <li><a href="http://www.jianshu.com/p/861c9c916b2a">iOS 集成Reveal UI调试利器</a></li>
  <li><a href="http://www.jianshu.com/p/440bdc425c02">UI/UX 产品原型 从Axure开始</a></li>
  <li><a href="http://www.jianshu.com/p/56eb4917f956">UI/UX 使用Ps 进行视觉设计</a></li>
  <li><a href="http://www.jianshu.com/p/c1a0cd2a348f">iOS 会跳舞的TabbarController</a></li>
  <li><a href="http://www.jianshu.com/p/bba27212de69">iOS 超Easy实现 渐变导航栏</a></li>
</ul>

<p>以下内容在上述文章基础上进行, 请事先查阅.</p>

<p>今天我们需要实现的功能是: 酷炫的Button动效, 大家不禁要问, 一个小小的Button, 能够搞出些什么花头呢? 想必大家都等不及了吧, 来, 不急我们step by step 一步步来~ (今天的内容过多, 示例代码不会很详尽, 具体请到<a href="https://github.com/coderZsq">github</a>上下载)</p>

<p>有同学提出效果图放开头会比较好!! 大家可以先参考下, 先想想实现方法^ ^
<img src="http://upload-images.jianshu.io/upload_images/1229762-3da71ddcaa91bb24.gif?imageMogr2/auto-orient/strip" alt="" /></p>

<h5 id="导航栏遗漏细节处理">导航栏遗漏细节处理</h5>
<p>上周有些同学说, 渐变导航栏有几个细节不是尽善尽美, 今天我们就先来将其处理一下!!</p>

<h6 id="1-当push到下一界面时搜索栏的ui始终出现">1. 当push到下一界面时搜索栏的UI始终出现</h6>
<p>这其实非常的正常, 我们是将searchBar加载到了<code class="highlighter-rouge">navigationController.view</code>上, 当push到下个见面自然会存在了, 好的, 为了处理这个问题, 我们新建一个viewcontroller, 然后作为栈顶控制器.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)viewWillDisappear:(BOOL)animated {
    [super viewWillDisappear:animated];
    [self.searchBarView removeFromSuperview];
}

- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];
    [self.navigationController.view addSubview:self.searchBarView];
    [self.searchBarView loomingAnimationWithDuration:kTimeInterval];
}
</code></pre>
</div>
<p>在生命周期方法中添加和删除, 当view完全出现的时候执行动画显现即可!
可是这样当我们使用交互转场的时候发现 搜索栏突然就消失了(这实在是太生硬了吧!!)
我们在SQLifestyleSearchCell中再添加一个<code class="highlighter-rouge">searchBarView</code>就可以完美解决啦~~</p>

<h6 id="2-当push到下一界面时会调用scorlldidscroll方法发生位移">2. 当push到下一界面时会调用scorllDidScroll方法发生位移</h6>
<p>好的, 我们来解决第二个问题, 当push到下一界面时会调用scorllDidScroll是系统自动会调用的, 我们为了解决这个问题首先要讲调用给屏蔽掉!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    [self setAutomaticallyAdjustsScrollViewInsets:NO];
    
</code></pre>
</div>
<p>在scorllDidScroll方法中添加上述方法就是屏蔽系统自动调用的问题! 但这样会将tableView上移64, 我们使用contentInset就能完美解决啦~~</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    _tableView.contentInset = UIEdgeInsetsMake(0, 0, 49, 0);
    
</code></pre>
</div>
<p>这时我们碰到了一个问题, 当我们push进入到下个页面时, 导航栏的颜色会和栈底控制器保持同步!!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)navigationBarGradualChangeWithScrollView:(UIScrollView *)scrollView titleView:(UIView *)titleView movableView:(UIView *)movableView offset:(CGFloat)offset color:(UIColor *)color {

    [self viewWillLayoutSubviews];
    [self setAutomaticallyAdjustsScrollViewInsets:NO];
    
    float alpha = 1 - ((offset - scrollView.contentOffset.y) / offset);
    [self setNavigationBarColor:color alpha:alpha];
    titleView  .hidden = scrollView.contentOffset.y &gt; offset ? NO : YES;
    movableView.hidden = !titleView.hidden;
}

- (void)setNavigationBarColor:(UIColor *)color alpha:(CGFloat)alpha {
    [self.navigationController.navigationBar setBackgroundImage:[UIImage imageWithColor:[color colorWithAlphaComponent:alpha &gt; 0.95f ? 0.95f : alpha]] forBarMetrics:UIBarMetricsDefault];
    if (self.navigationController.viewControllers.count &gt; 1) {
        UIView * view = [[UIView alloc]initWithFrame:CGRectMake(0, 0, self.view.width, 64)];
        view.backgroundColor = color; [self.view addSubview:view];
    }
}
</code></pre>
</div>
<p>我们在下一个页面设置背景色, 并在导航栏的下面贴一层和导航栏相同颜色的view,即可解决!!</p>

<p>但是这样又有问题了, 我们把栈顶控制器导航栏的颜色给带回到栈底控制器了, 所以解决方法就是在view将要出现的时候, 计算颜色值!!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    [self scrollViewDidScroll:self.tableView];
}
</code></pre>
</div>

<h6 id="3-轮播图被导航栏遮挡-部分区域不能交互">3. 轮播图被导航栏遮挡 部分区域不能交互</h6>
<p>这个就要说到响应者链条的问题了, 但上层View可以接受响应的时候, 事件是不会向下传递的, 所以不能响应 很正常!! 我们禁止<code class="highlighter-rouge">navigationBar</code>的响应事件的能力即可! 
我们在上面的方法中添加如下代码!!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    [self.navigationController.navigationBar setUserInteractionEnabled:scrollView.contentOffset.y &gt; offset ? YES : NO];

</code></pre>
</div>
<p>看, 设置了取消用户交互,就能将事件传递到Cell身上了吧~~ (完美搞定!!)</p>

<h6 id="4-显示效果">4 显示效果</h6>
<p><img src="http://upload-images.jianshu.io/upload_images/1229762-3da71ddcaa91bb24.gif?imageMogr2/auto-orient/strip" alt="" /></p>

<h5 id="加载展示cell">加载展示Cell</h5>
<p>向诸如此类的Cell 图片,文字等元素都是相同的, 就单布局不同的情况下, 我们可以将其封装一下, 这里共享给大家一个写法~~ (抽象类)</p>

<p><code class="highlighter-rouge">.h</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">UIImageView</span> <span class="o">*</span> <span class="n">displayImageView</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">UILabel</span>     <span class="o">*</span> <span class="n">displayTitleLabel</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">UILabel</span>     <span class="o">*</span> <span class="n">displayContentLabel</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">UILabel</span>     <span class="o">*</span> <span class="n">displayTimeLabel</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">UIView</span>      <span class="o">*</span> <span class="n">dividingLineView</span><span class="p">;</span>

<span class="k">+</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">cellWithTableView</span><span class="p">:(</span><span class="n">UITableView</span> <span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="p">;</span>

<span class="k">+</span> <span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="n">cellHeight</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">setupSubviews</span><span class="p">;</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">.m</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (UIImageView *)displayImageView {
    
    if (!_displayImageView) {
        _displayImageView = [UIImageView new];
        _displayImageView.contentMode = UIViewContentModeScaleAspectFill;
        _displayImageView.clipsToBounds = YES;
        _displayImageView.layer.borderColor = KC05_dddddd.CGColor;
        _displayImageView.layer.borderWidth = 0.5f;
        _displayImageView.image = [UIImage imageNamed:@"image 2"];
    }
    return _displayImageView;
}

- (UILabel *)displayTitleLabel {
    
    if (!_displayTitleLabel) {
        _displayTitleLabel = [UILabel new];
        _displayTitleLabel.textColor = KC02_2c2c2c;
        _displayTitleLabel.text = @"Ride Bicycle";
    }
    return _displayTitleLabel;
}

- (UILabel *)displayContentLabel {
    
    if (!_displayContentLabel) {
        _displayContentLabel = [UILabel new];
        _displayContentLabel.textColor = KC03_666666;
        _displayContentLabel.text = @"I’m riding on highway with my friend John That’s fantastic Awesome!!";
        _displayContentLabel.numberOfLines = 0;
    }
    return _displayContentLabel;
}

- (UILabel *)displayTimeLabel {
    
    if (!_displayTimeLabel) {
        _displayTimeLabel = [UILabel new];
        _displayTimeLabel.textColor = KC03_666666;
        _displayTimeLabel.text = @"06-29-2016";
    }
    return _displayTimeLabel;
}

- (UIView *)dividingLineView {
    
    if (!_dividingLineView) {
        _dividingLineView = [UIView new];
        _dividingLineView.backgroundColor = [UIColor lightGrayColor];
        _dividingLineView.alpha = 0.3f;
    }
    return _dividingLineView;
}

- (void)setupSubviews {
    [self.contentView addSubview:self.displayImageView];
    [self.contentView addSubview:self.displayTitleLabel];
    [self.contentView addSubview:self.displayContentLabel];
    [self.contentView addSubview:self.displayTimeLabel];
    [self.contentView addSubview:self.dividingLineView];
}

+ (CGFloat)cellHeight {
	return 0;
}
</code></pre>
</div>
<p>上面我们完成了Cell的内容部分, 接下来我们可以创建任意Cell来继承上面的Cell, 共享内容!! 并且仅需实现布局即可!!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)setupSubviews {
    [super setupSubviews];
    self.displayTitleLabel.font = KF04_15px;
    self.displayContentLabel.numberOfLines = 2;
    self.displayContentLabel.font = KF05_14px;
    self.displayTimeLabel.textAlignment = NSTextAlignmentRight;
    self.displayTimeLabel.font = KF05_14px;
    self.backgroundColor = GLOBAL_BGC;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    
    CGFloat padding = kSpace;
    
    CGFloat displayImageViewX = padding;
    CGFloat displayImageViewW = 60;
    CGFloat displayImageViewH = displayImageViewW;
    CGFloat displayImageViewY = (self.height - displayImageViewH) * 0.5f;
    self.displayImageView.frame = CGRectMake(displayImageViewX, displayImageViewY, displayImageViewW, displayImageViewH);
    
    CGFloat displayTitleLabelX = displayImageViewX + displayImageViewW + padding;
    CGFloat displayTitleLabelY = displayImageViewY;
    CGFloat displayTitleLabelW = (self.width - displayTitleLabelX - padding) * 0.5f;
    CGFloat displayTitleLabelH = displayImageViewH * 0.4f;
    self.displayTitleLabel.frame = CGRectMake(displayTitleLabelX, displayTitleLabelY, displayTitleLabelW, displayTitleLabelH);
    
    CGFloat displayContentLabelX = displayTitleLabelX;
    CGFloat displayContentLabelY = displayTitleLabelY + displayTitleLabelH;
    CGFloat displayContentLabelW = displayTitleLabelW * 2;
    CGFloat displayContentLabelH = displayImageViewH - displayTitleLabelH;
    self.displayContentLabel.frame = CGRectMake(displayContentLabelX, displayContentLabelY, displayContentLabelW, displayContentLabelH);
    
    CGFloat displayTimeLabelY = displayTitleLabelY;
    CGFloat displayTimeLabelW = displayTitleLabelW;
    CGFloat displayTimeLabelH = displayTitleLabelH;
    CGFloat displayTimeLabelX = self.width - displayTimeLabelW - padding;
    self.displayTimeLabel.frame = CGRectMake(displayTimeLabelX, displayTimeLabelY, displayTimeLabelW, displayTimeLabelH);
    
    CGFloat dividingLineViewX = padding;
    CGFloat dividingLineViewW = self.width - 2 * padding;
    CGFloat dividingLineViewH = 0.5f;
    CGFloat dividingLineViewY = self.height - dividingLineViewH;
    self.dividingLineView.frame = CGRectMake(dividingLineViewX, dividingLineViewY, dividingLineViewW, dividingLineViewH);
}

+ (CGFloat)cellHeight {
    return 80;
}

</code></pre>
</div>
<h5 id="狂霸酷炫拽之button动效">狂霸酷炫拽之Button动效</h5>

<p>终于进入今天的正题, 我们先来吧Button给画出来吧~~</p>

<h6 id="1-自定义button">1. 自定义Button</h6>
<p>这里我们使用<code class="highlighter-rouge">CAShapeLayer + UIBezierPath</code>将Button给画了出来, 其实完全可以让设计做图, 我这里只是因为抛砖引玉后面的内容!!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (CAShapeLayer *)roundShapeLayer {
    
    if (!_roundShapeLayer) {
        _roundShapeLayer = [CAShapeLayer layer];
        _roundShapeLayer.backgroundColor = KC01_57c2de.CGColor;
        _roundShapeLayer.borderColor = KC05_dddddd.CGColor;
        _roundShapeLayer.borderWidth = 0.5f;
        _roundShapeLayer.masksToBounds = YES;
    }
    return _roundShapeLayer;
}

- (CAShapeLayer *)horizontalShapeLayer {
    
    if (!_horizontalShapeLayer) {
        _horizontalShapeLayer = [CAShapeLayer layer];
        _horizontalShapeLayer.fillColor = [UIColor whiteColor].CGColor;
    }
    return _horizontalShapeLayer;
}

- (CAShapeLayer *)verticalShapeLayer {
    
    if (!_verticalShapeLayer) {
        _verticalShapeLayer = [CAShapeLayer layer];
        _verticalShapeLayer.fillColor = _horizontalShapeLayer.fillColor;
    }
    return _verticalShapeLayer;
}

- (void)setupSubviews {
    [self setAlpha:0.7f];
    [self.layer addSublayer:self.roundShapeLayer];
    [self.layer addSublayer:self.horizontalShapeLayer];
    [self.layer addSublayer:self.verticalShapeLayer];
}

- (void)layoutSubviews {
    [super layoutSubviews];
    
    CGFloat roundShapeLayerX = 0;
    CGFloat roundShapeLayerY = 0;
    CGFloat roundShapeLayerW = self.width;
    CGFloat roundShapeLayerH = roundShapeLayerW;
    self.roundShapeLayer.cornerRadius = roundShapeLayerW * 0.5f;
    self.roundShapeLayer.frame = CGRectMake(roundShapeLayerX, roundShapeLayerY, roundShapeLayerW, roundShapeLayerH);
    
    CGFloat horizontalPathW = self.width - 12;
    CGFloat horizontalPathH = self.height / 6;
    CGFloat horizontalPathX = (self.width - horizontalPathW) * 0.5f;
    CGFloat horizontalPathY = (self.height - horizontalPathH) * 0.5f;
    self.horizontalShapeLayer.path = [UIBezierPath bezierPathWithRoundedRect:CGRectMake(horizontalPathX, horizontalPathY, horizontalPathW, horizontalPathH) cornerRadius:10].CGPath;
    
    CGFloat verticalPathW = horizontalPathH;
    CGFloat verticalPathH = horizontalPathW;
    CGFloat verticalPathX = (self.width - verticalPathW) * 0.5f;;
    CGFloat verticalPathY = (self.height - horizontalPathW) * 0.5f;;
    self.verticalShapeLayer.path = [UIBezierPath bezierPathWithRoundedRect:CGRectMake(verticalPathX, verticalPathY, verticalPathW, verticalPathH) cornerRadius:10].CGPath;
}
</code></pre>
</div>

<h6 id="2-可移动button">2. 可移动Button</h6>
<p>将上面创建好的Button 继承与SQExtension中的<code class="highlighter-rouge">SQRemovableButton</code> 即可实现移动属性!! 这里我来看下可移动属性的实现原理!!(其实完全可以使用Pan手势实现!!)</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">@interface</span> <span class="nc">SQRemovableButton</span> <span class="p">()</span>

<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">assign</span><span class="p">,</span><span class="n">getter</span> <span class="o">=</span> <span class="n">isMoved</span><span class="p">)</span> <span class="n">BOOL</span> <span class="n">moved</span><span class="p">;</span>

<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">SQRemovableButton</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">touchesMoved</span><span class="p">:(</span><span class="n">NSSet</span> <span class="o">*</span><span class="p">)</span><span class="nv">touches</span> <span class="nf">withEvent</span><span class="p">:(</span><span class="n">UIEvent</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span> <span class="p">{</span>
    
    <span class="p">[</span><span class="n">super</span> <span class="nf">touchesMoved</span><span class="p">:</span><span class="n">touches</span> <span class="nf">withEvent</span><span class="p">:</span><span class="n">event</span><span class="p">];</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">moved</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
    
    <span class="n">UITouch</span> <span class="o">*</span> <span class="n">touch</span> <span class="o">=</span> <span class="p">[</span><span class="n">touches</span> <span class="nf">anyObject</span><span class="p">];</span>
    <span class="n">CGPoint</span> <span class="n">current</span> <span class="o">=</span> <span class="p">[</span><span class="n">touch</span> <span class="nf">locationInView</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>
    <span class="n">CGPoint</span> <span class="n">previous</span> <span class="o">=</span> <span class="p">[</span><span class="n">touch</span> <span class="nf">previousLocationInView</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>
    
    <span class="n">CGPoint</span> <span class="n">center</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>

    <span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">current</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">previous</span><span class="p">.</span><span class="n">x</span><span class="p">;</span> <span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">current</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">previous</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
    
    <span class="n">CGFloat</span> <span class="n">screenWidth</span>  <span class="o">=</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="nf">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
    <span class="n">CGFloat</span> <span class="n">screenHeight</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="nf">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
    
    <span class="n">CGFloat</span> <span class="n">xMin</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span>  <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span> <span class="n">CGFloat</span> <span class="n">xMax</span> <span class="o">=</span> <span class="n">screenWidth</span>  <span class="o">-</span> <span class="n">xMin</span><span class="p">;</span>
    <span class="n">CGFloat</span> <span class="n">yMin</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span> <span class="n">CGFloat</span> <span class="n">yMax</span> <span class="o">=</span> <span class="n">screenHeight</span> <span class="o">-</span> <span class="n">yMin</span> <span class="o">-</span> <span class="mi">49</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">xMax</span><span class="p">)</span> <span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">xMax</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">yMax</span><span class="p">)</span> <span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">yMax</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">xMin</span><span class="p">)</span> <span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">xMin</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">yMin</span><span class="p">)</span> <span class="n">center</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">yMin</span><span class="p">;</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">touchesEnded</span><span class="p">:(</span><span class="n">NSSet</span> <span class="o">*</span><span class="p">)</span><span class="nv">touches</span> <span class="nf">withEvent</span><span class="p">:(</span><span class="n">UIEvent</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">self</span><span class="p">.</span><span class="n">moved</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">super</span> <span class="nf">touchesEnded</span><span class="p">:</span><span class="n">touches</span> <span class="nf">withEvent</span><span class="p">:</span><span class="n">event</span><span class="p">];</span>
    <span class="p">}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">moved</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">self</span><span class="p">.</span><span class="n">dockable</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    
    <span class="n">CGFloat</span> <span class="n">screenWidth</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="nf">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
    <span class="n">CGFloat</span>           <span class="n">x</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span>
    
    <span class="p">[</span><span class="n">UIView</span> <span class="nf">animateWithDuration</span><span class="p">:</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="n">f</span> <span class="nf">animations</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
        <span class="n">CGPoint</span> <span class="n">center</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
        <span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">screenWidth</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span> <span class="p">?</span> <span class="n">screenWidth</span> <span class="o">-</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">self</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">center</span><span class="p">;</span>
    <span class="p">}];</span>
<span class="p">}</span>

</code></pre>
</div>
<p>这里有个难点在于当滑动的时候会和Touch Events/Tap Gesture 发生冲突, 解决方法在于当其移动的时候不调用其父类的方法即可!!</p>

<h6 id="3-button的pop动画">3. Button的Pop动画</h6>
<p>使用SQExtension中的<code class="highlighter-rouge">CAAnimation+Extension</code>即可实现pop动画, 这个我不多说, 关键帧动画的基本实现!</p>

<div class="highlighter-rouge"><pre class="highlight"><code>+ (CAAnimation *)animationPopWithLayer:(CALayer *)layer {
    
    CAKeyframeAnimation * pop = [CAKeyframeAnimation animation];
    pop.keyPath     = @"transform.scale";
    pop.values      = @[@0.1, @0.2, @0.3, @0.2, @0.1];
    pop.additive    = YES;
    
    CAAnimationGroup * group = [CAAnimationGroup new];
    group.animations = @[pop];
    group.duration = kTimeInterval;
    group.removedOnCompletion = NO;
    [layer addAnimation:group forKey:nil];
    return group;
}
</code></pre>
</div>
<p>我们同样将其加在navigationController.view 上并设定初始布局</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (SQLifestylePostButton *)postButton {
    
    CGFloat postButtonW = 40;
    CGFloat postButtonH = postButtonW;
    CGFloat postButtonX = self.view.width - kSpace - postButtonW;
    CGFloat postButtonY = self.view.height - 49 - kSpace - postButtonH;
    
    if (!_postButton) {
        _postButton = [SQLifestylePostButton new];
        _postButton.frame = CGRectMake(postButtonX, postButtonY, postButtonW, postButtonH);
    }
    [CAAnimation animationPopWithLayer:_postButton.layer];
    return _postButton;
}
</code></pre>
</div>

<p>并将点击事件在Button内部实现, 那我们怎么在view的内部拿到当前控制器呢?
之前我的老大在项目中是用单例设计模式实现的可以参考SQExtension中的<code class="highlighter-rouge">SQViewControllerManager.h</code>, 今天我分享一个更加投机的方式, 全局变量!!
我们先将所有的控制器都继承与<code class="highlighter-rouge">SQViewController</code>, 并实现如下方法;</p>

<p><code class="highlighter-rouge">.h</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>extern UIViewController * kCurrentViewController;
</code></pre>
</div>

<p><code class="highlighter-rouge">.m</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>UIViewController * kCurrentViewController = nil;

</code></pre>
</div>

<p><code class="highlighter-rouge">SQViewController.m</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    kCurrentViewController = self;
}
</code></pre>
</div>

<p>这样我们就能够拿到当前的控制器了 whenTap方法我不多讲,底层是用runtime实现的, 就是为了让代码高内聚,低耦合,(关键是runtime真的要讲很久…)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    __weak typeof(self) _self = self;
    [self whenTapped:^{
        SQNavigationController * navigationController = [[SQNavigationController alloc]initWithRootViewController:[SQPostViewController new]];
        [kCurrentViewController presentViewController:navigationController animated:YES completion:nil];
    }];
</code></pre>
</div>
<p>到此为止, 我们的Button已经具有不错的动画效果了~~</p>

<h6 id="button的自定义转场动画">Button的自定义转场动画</h6>
<p>自定义转场, 我之前就有提及到我就快速的讲, 今天我们来在Modal的自定义转场, 自定义转场两步走~</p>

<p>1 设置代理</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   @interface SQLifestylePostButton () UIViewControllerTransitioningDelegate&gt;
	
  [navigationController setTransitioningDelegate:_self];
  
  - (id &lt;UIViewControllerAnimatedTransitioning&gt;)animationControllerForDismissedController:(UIViewController *)dismissed {
    SQHoleAnimatedTransitioning * animatedTransitioning = [SQHoleAnimatedTransitioning new];
    animatedTransitioning.frame = self.frame;
    return animatedTransitioning;
}

</code></pre>
</div>
<p>2  实现自定义转场</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">@interface</span> <span class="nc">SQHoleAnimatedTransitioning</span> <span class="p">()</span>

<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">id</span><span class="o">&lt;</span><span class="n">UIViewControllerContextTransitioning</span><span class="o">&gt;</span> <span class="n">transitionContext</span><span class="p">;</span>

<span class="k">@end</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">CGFloat</span> <span class="n">kRatio</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span>

<span class="k">@implementation</span> <span class="nc">SQHoleAnimatedTransitioning</span>

<span class="k">-</span> <span class="p">(</span><span class="n">NSTimeInterval</span><span class="p">)</span><span class="nf">transitionDuration</span><span class="p">:(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">UIViewControllerContextTransitioning</span><span class="o">&gt;</span><span class="p">)</span><span class="nv">transitionContext</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="n">f</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">animateTransition</span><span class="p">:(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">UIViewControllerContextTransitioning</span><span class="o">&gt;</span><span class="p">)</span><span class="nv">transitionContext</span> <span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">transitionContext</span> <span class="o">=</span> <span class="n">transitionContext</span><span class="p">;</span>
    
    <span class="n">UIViewController</span> <span class="o">*</span> <span class="n">toViewController</span> <span class="o">=</span> <span class="p">[</span><span class="n">transitionContext</span> <span class="nf">viewControllerForKey</span><span class="p">:</span><span class="n">UITransitionContextToViewControllerKey</span><span class="p">];</span>
    <span class="n">UIViewController</span> <span class="o">*</span> <span class="n">fromViewController</span> <span class="o">=</span> <span class="p">[</span><span class="n">transitionContext</span> <span class="nf">viewControllerForKey</span><span class="p">:</span><span class="n">UITransitionContextFromViewControllerKey</span><span class="p">];</span>
    <span class="n">UIView</span> <span class="o">*</span> <span class="n">containView</span> <span class="o">=</span> <span class="n">transitionContext</span><span class="p">.</span><span class="n">containerView</span><span class="p">;</span>
    <span class="p">[</span><span class="n">containView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">toViewController</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
    <span class="p">[</span><span class="n">containView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">fromViewController</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
    
    <span class="n">UIView</span> <span class="o">*</span> <span class="n">endView</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIView</span> <span class="nf">new</span><span class="p">];</span>
    <span class="n">endView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">frame</span><span class="p">;</span>
    <span class="n">UIBezierPath</span> <span class="o">*</span> <span class="n">endPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIBezierPath</span> <span class="nf">bezierPathWithOvalInRect</span><span class="p">:</span><span class="n">endView</span><span class="p">.</span><span class="n">frame</span><span class="p">];</span>
    
    <span class="n">UIView</span> <span class="o">*</span> <span class="n">startView</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIView</span> <span class="nf">new</span><span class="p">];</span>
    <span class="n">startView</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">endView</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
    <span class="n">startView</span><span class="p">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="nf">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">kRatio</span><span class="p">,</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="nf">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">kRatio</span><span class="p">);</span>
    <span class="n">UIBezierPath</span> <span class="o">*</span> <span class="n">startpath</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIBezierPath</span> <span class="nf">bezierPathWithOvalInRect</span><span class="p">:</span><span class="n">startView</span><span class="p">.</span><span class="n">frame</span><span class="p">];</span>
    
    <span class="n">CAShapeLayer</span> <span class="o">*</span> <span class="n">maskLayer</span> <span class="o">=</span> <span class="p">[</span><span class="n">CAShapeLayer</span> <span class="nf">layer</span><span class="p">];</span>
    
    <span class="n">maskLayer</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">endPath</span><span class="p">.</span><span class="n">CGPath</span><span class="p">;</span>
    <span class="n">fromViewController</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">layer</span><span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">maskLayer</span><span class="p">;</span>
    
    <span class="n">CABasicAnimation</span> <span class="o">*</span> <span class="n">animation</span> <span class="o">=</span> <span class="p">[</span><span class="n">CABasicAnimation</span> <span class="nf">animationWithKeyPath</span><span class="p">:</span><span class="s">@"path"</span><span class="p">];</span>
    <span class="n">animation</span><span class="p">.</span><span class="n">fromValue</span> <span class="o">=</span> <span class="p">(</span><span class="n">__bridge</span> <span class="n">id</span> <span class="p">)(</span><span class="n">startpath</span><span class="p">.</span><span class="n">CGPath</span><span class="p">);</span>
    <span class="n">animation</span><span class="p">.</span><span class="n">toValue</span> <span class="o">=</span> <span class="p">(</span><span class="n">__bridge</span> <span class="n">id</span> <span class="p">)(</span><span class="n">endPath</span><span class="p">.</span><span class="n">CGPath</span><span class="p">);</span>
    <span class="n">animation</span><span class="p">.</span><span class="n">duration</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="nf">transitionDuration</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">transitionContext</span><span class="p">];</span>
    <span class="n">animation</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
    <span class="n">animation</span><span class="p">.</span><span class="n">timingFunction</span> <span class="o">=</span> <span class="p">[</span><span class="n">CAMediaTimingFunction</span> <span class="nf">functionWithName</span><span class="p">:</span><span class="n">kCAMediaTimingFunctionEaseInEaseOut</span><span class="p">];</span>
    <span class="p">[</span><span class="n">maskLayer</span> <span class="nf">addAnimation</span><span class="p">:</span><span class="n">animation</span> <span class="nf">forKey</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">animationDidStop</span><span class="p">:(</span><span class="n">CAAnimation</span> <span class="o">*</span><span class="p">)</span><span class="nv">anim</span> <span class="nf">finished</span><span class="p">:(</span><span class="n">BOOL</span><span class="p">)</span><span class="nv">flag</span> <span class="p">{</span>
    
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">transitionContext</span> <span class="nf">completeTransition</span><span class="p">:</span><span class="o">!</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">transitionContext</span> <span class="nf">transitionWasCancelled</span><span class="p">]];</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">transitionContext</span> <span class="nf">viewControllerForKey</span><span class="p">:</span><span class="n">UITransitionContextFromViewControllerKey</span><span class="p">].</span><span class="n">view</span><span class="p">.</span><span class="n">layer</span><span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<p>之前我有看过用象限算法实现的, 擦, 好复杂… 本宝宝最不喜欢的就是计算这种费脑子的事情了, 能够投机的, 就不要那么麻烦嘛, 这里我借用了两个view来实现相同功能, 我感觉这里需要细讲一下,不然有些同学不是很好理解…</p>

<p>self.frame 就是可移动Button最终的frame, 然后借助一个View来确定第二个Rect的Center, 其实就是同心圆, 有没有很好理解?? 然后使用<code class="highlighter-rouge">mask</code>属性进行路径动画就可以了, mask其实就Ps中的蒙版, 遮罩, 对mask属性不是很熟悉的同学可以Google一下alpha通道, 简单来说就是, mask不透明, 就能够穿透, 好像就是这个意思~</p>

<p>到这里我们今天的内容就全部结束了…</p>

<h5 id="qa">Q/A</h5>
<p>但是我发现一个问题, 只要进行转场动画, 自动轮播图就会有几率被卡住, 为了解决这个问题,我们可以在控制器加载完成后进行对TableView的刷新 就可以了~~</p>

<p>还有同学提出, 打开Demo时模拟器上下会有两条黑边, 这是由于我是用Xcode5创建的项目 新版Xcode没有加载LaunchScreen.xib 可以在项目配置页，General下面有一栏App Icons and Launch Images，其中有一项Launch Images Source，如果你遇到了问题，那么旁边显示的可能是一个按钮，Use Asset Catalog，点一下然后确定就可以了.</p>

<h5 id="显示效果">显示效果</h5>
<p><img src="http://upload-images.jianshu.io/upload_images/1229762-3da71ddcaa91bb24.gif?imageMogr2/auto-orient/strip" alt="" /></p>

<h5 id="在reveal中显示">在Reveal中显示</h5>
<p><img src="http://upload-images.jianshu.io/upload_images/1229762-d3bd0c4cd3ac183d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<h5 id="最终显示">最终显示</h5>
<p><img src="http://upload-images.jianshu.io/upload_images/1229762-18cf0c1e8e8b24a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>

<hr />

<h5 id="github-下载地址">github 下载地址!!!</h5>

<p><img src="http://upload-images.jianshu.io/upload_images/1229762-7d2183683da49c9f.jpeg!heading?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" />
 点击下方链接跳转!!</p>

<p><a href="https://github.com/coderZsq">具体源码及SQExtension方法信息 请到github上进行下载! 喜欢的朋友送下小星星哟!!</a></p>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">最近的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2016/07/iOS-5%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%90%9E%E5%AE%9A%E5%85%A8%E5%B1%8FPop%E8%BD%AC%E5%9C%BA/" title="link to iOS 5行代码搞定全屏Pop转场">iOS 5行代码搞定全屏Pop转场</a></h2>
       <p class="excerpt">  最近在写论文阶段, 没有足够的精力来写技术分享, 再此说声抱歉, 不过我也会尽力挤出时间不定期为大家更新一些干货的!! 请大家继续关注!!参考链接:  iOS 做好开工前的准备  iOS 集成Reveal UI调试利器  UI/UX 产品原型 从Axure开始  UI/UX 使用Ps 进行视觉设计  iOS 会跳舞的TabbarController  iOS 超Easy实现 渐变导航栏  iOS 狂霸酷炫拽之Button动效以下内容在上述文章基础上进行, 请事先查阅.POP全屏转场好了...&hellip;</p>
       <div class="post-list__meta"><time datetime="2016-07-10 15:20:00 +0800" class="post-list__meta--date date">2016-07-10</time> &#8226; <span class="post-list__meta--tags tags">移动开发</span><a class="btn-border-small" href=/2016/07/iOS-5%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%90%9E%E5%AE%9A%E5%85%A8%E5%B1%8FPop%E8%BD%AC%E5%9C%BA/>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2016/06/iOS-%E8%B6%85Easy%E5%AE%9E%E7%8E%B0-%E6%B8%90%E5%8F%98%E5%AF%BC%E8%88%AA%E6%A0%8F/" title="link to iOS 超Easy实现 渐变导航栏">iOS 超Easy实现 渐变导航栏</a></h2>
       <p class="excerpt">  接着上周的项目, 在上周我别出心裁的在自定义TabbarController中加入了自定义转场动画, 受到了大家广泛的喜爱, 再次表示感激, 今天我们继续实现LifestyleViewController的第二个功能渐变导航栏!!参考链接:  iOS 做好开工前的准备  iOS 集成Reveal UI调试利器  UI/UX 产品原型 从Axure开始  UI/UX 使用Ps 进行视觉设计  iOS 会跳舞的TabbarController以下内容在上述文章基础上进行, 请事先查阅.渐变...&hellip;</p>
       <div class="post-list__meta"><time datetime="2016-06-25 16:27:00 +0800" class="post-list__meta--date date">2016-06-25</time> &#8226; <span class="post-list__meta--tags tags">移动开发</span><a class="btn-border-small" href=/2016/06/iOS-%E8%B6%85Easy%E5%AE%9E%E7%8E%B0-%E6%B8%90%E5%8F%98%E5%AF%BC%E8%88%AA%E6%A0%8F/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2018-03-17 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="https://github.com/coderZsq">@Castie!</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2018</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
